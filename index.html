<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>LIONPETSSTORE | 數位契約系統</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --medical-blue: #005694;
            --clean-cyan: #0ea5e9;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f9ff;
            color: #334155;
            -webkit-tap-highlight-color: transparent;
        }
        
        .font-eng { font-family: 'Montserrat', sans-serif; }

        /* 背景極光 */
        .spa-background {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100vh;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
            background-image: 
                radial-gradient(circle at 10% 10%, rgba(14, 165, 233, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 90% 90%, rgba(0, 86, 148, 0.05) 0%, transparent 40%);
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.6;
            animation: float 15s infinite ease-in-out alternate;
        }
        
        .bubble-1 { width: 600px; height: 600px; background: rgba(14, 165, 233, 0.1); top: -20%; right: -20%; }
        .bubble-2 { width: 500px; height: 500px; background: rgba(6, 182, 212, 0.08); bottom: -10%; left: -10%; animation-delay: -5s; }

        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, -40px) scale(1.1); }
        }

        /* 水晶容器 */
        .glass-container {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.4) 100%);
            backdrop-filter: blur(25px); 
            -webkit-backdrop-filter: blur(25px);
            border-top: 1.5px solid rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            border-left: 1px solid rgba(255, 255, 255, 0.5);
            border-right: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 2.5rem;
            box-shadow: 
                0 20px 50px -10px rgba(14, 165, 233, 0.15),
                inset 0 0 0 1px rgba(255, 255, 255, 0.2);
        }
        
        /* 服務卡片 (帶極光漸層) */
        .service-card {
            position: relative;
            overflow: hidden;
            border-radius: 1.5rem;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 10px 30px -10px rgba(14, 165, 233, 0.15), 0 4px 6px -2px rgba(14, 165, 233, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* 內部極光背景 */
        .service-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(224, 242, 254, 0.3) 50%, rgba(255,255,255,0.1) 100%);
            z-index: 0;
        }

        /* 裝飾光暈 */
        .card-decoration {
            position: absolute;
            top: -20px;
            right: -20px;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(14, 165, 233, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(20px);
            z-index: 0;
        }

        .service-card:active { transform: scale(0.98); }
        .service-card:hover { 
            border-color: #0ea5e9; 
            box-shadow: 0 15px 40px -10px rgba(14, 165, 233, 0.25);
        }

        .logo-container {
            width: 100%;
            padding-bottom: 0.2rem;
            position: relative;
            z-index: 10;
        }
        .logo-container img {
            width: 100%;
            max-width: 280px;
            margin: 0 auto;
            display: block;
            filter: drop-shadow(0 15px 25px rgba(14, 165, 233, 0.2));
        }

        .contact-pill {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.9);
            border-radius: 99px;
            padding: 10px 24px;
            font-size: 13px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s;
            box-shadow: 0 4px 10px rgba(14, 165, 233, 0.05);
            backdrop-filter: blur(4px);
        }
        .contact-pill:hover {
            background: #fff;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(14, 165, 233, 0.15);
            color: var(--medical-blue);
        }

    </style>
</head>
<body class="relative min-h-screen flex justify-center py-6 px-4">
    
    <div class="spa-background">
        <div class="bubble bubble-1"></div>
        <div class="bubble bubble-2"></div>
    </div>

    <div id="root" class="relative z-10 w-full max-w-lg glass-container overflow-hidden min-h-[85vh] flex flex-col"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const supabase = window.supabase.createClient('https://fpkzuotxxbsqisgwupix.supabase.co', 'sb_publishable_VsAJfSi7Fb3zu_A5Ksm2wA_mAUkDLBs'); 

        const Icon = ({ name, size = 20, className = "" }) => {
            const iconRef = useRef(null);
            useEffect(() => {
                if (typeof window.lucide !== 'undefined' && iconRef.current) {
                    window.lucide.createIcons({
                        root: iconRef.current, attrs: { "stroke-width": 2, class: className }, name: name, nameAttr: 'data-lucide'
                    });
                }
            }, [name, className]);
            return <span ref={iconRef} className="inline-flex items-center justify-center"><i data-lucide={name} style={{ width: size, height: size }}></i></span>;
        };

        const App = () => {
            const [view, setView] = useState('entry');
            const [isBoarding, setIsBoarding] = useState(false);

            useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash;
                    if (hash === '#boarding') { setView('client'); setIsBoarding(true); }
                    else if (hash === '#grooming') { setView('client'); setIsBoarding(false); }
                    else { setView('entry'); setIsBoarding(false); }
                    window.scrollTo({top: 0, behavior: 'smooth'});
                };
                handleHashChange();
                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);

            const navigateTo = (type) => { window.location.hash = type === 'boarding' ? '#boarding' : '#grooming'; };

            if (view === 'entry') {
                return (
                    <div className="flex flex-col h-full">
                        
                        <div className="pt-10 pb-4 flex flex-col items-center relative">
                            <div className="logo-container">
                                <img src="logo.png" alt="LIONPETSSTORE" 
                                    onError={(e) => e.target.src = 'https://placehold.co/544x320/transparent/005694?text=LION+png'} />
                            </div>
                            
                            <h1 className="font-eng text-xl font-black tracking-widest text-[#005694] mb-1">LIONPETSSTORE</h1>
                            <p className="text-slate-500 text-[10px] font-bold tracking-widest uppercase">Premium Pet Salon & Hotel</p>
                            
                            {/* --- 資訊區塊回歸中間 (無卡片設計) --- */}
                            <div className="mt-5 flex flex-col items-center gap-3">
                                {/* 特寵字號膠囊 */}
                                <span className="inline-block text-[10px] font-bold text-[#005694] border border-blue-200 bg-white/40 px-3 py-1 rounded-full tracking-wider shadow-sm backdrop-blur-sm">
                                    特寵業字第 C1130686 號
                                </span>

                                {/* Hyponic 認證 (文字+盾牌) - 移除白底，保留精緻感 */}
                                <div className="space-y-1 text-center">
                                    <div className="flex items-center justify-center gap-2">
                                        <Icon name="shield-check" size={18} className="text-[#005694]" />
                                        <span className="text-xs font-bold text-[#005694]">嚴選 Hyponic 低敏洗劑</span>
                                        <span className="text-[9px] bg-[#005694] text-white px-1.5 py-0.5 rounded shadow-sm tracking-wide">Excellent</span>
                                    </div>
                                    {/* 強制不換行處理 */}
                                    <p className="text-[9px] text-slate-500 font-medium whitespace-nowrap scale-95 origin-center">
                                        使用韓國頂級品牌，榮獲 德國 Dermatest 皮膚科敏感性測試最高級別認證。
                                    </p>
                                </div>
                            </div>
                        </div>

                        <main className="px-6 pb-8 w-full space-y-6 flex-grow relative flex flex-col justify-center">
                            
                            <div className="grid gap-4 mt-2">
                                {/* 美容按鈕 */}
                                <button onClick={() => navigateTo('grooming')} className="service-card p-5 flex items-center justify-between group cursor-pointer">
                                    <div className="card-decoration"></div>
                                    <div className="flex items-center gap-5 relative z-10">
                                        <div className="w-14 h-14 bg-gradient-to-br from-blue-50 to-blue-100 text-[#005694] rounded-2xl flex items-center justify-center shadow-inner border border-white/50">
                                            <Icon name="scissors" size={26}/>
                                        </div>
                                        <div className="text-left">
                                            <h3 className="font-bold text-lg text-slate-800">沙龍美容</h3>
                                            <p className="text-xs text-[#0ea5e9] mt-0.5 font-eng font-bold tracking-widest">GROOMING</p>
                                        </div>
                                    </div>
                                    <div className="text-slate-400 relative z-10 bg-white/60 p-1.5 rounded-full group-hover:bg-white transition-colors shadow-sm">
                                        <Icon name="chevron-right" size={20}/>
                                    </div>
                                </button>

                                {/* 住宿按鈕 */}
                                <button onClick={() => navigateTo('boarding')} className="service-card p-5 flex items-center justify-between group cursor-pointer">
                                    <div className="card-decoration"></div>
                                    <div className="flex items-center gap-5 relative z-10">
                                        <div className="w-14 h-14 bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600 rounded-2xl flex items-center justify-center shadow-inner border border-white/50">
                                            <Icon name="home" size={26}/>
                                        </div>
                                        <div className="text-left">
                                            <h3 className="font-bold text-lg text-slate-800">精品住宿</h3>
                                            <p className="text-xs text-slate-500 mt-0.5 font-eng font-bold tracking-widest">BOARDING</p>
                                        </div>
                                    </div>
                                    <div className="text-slate-400 relative z-10 bg-white/60 p-1.5 rounded-full group-hover:bg-white transition-colors shadow-sm">
                                        <Icon name="chevron-right" size={20}/>
                                    </div>
                                </button>
                            </div>

                            <div className="pt-2 space-y-5">
                                <a href="https://line.me/R/ti/p/lin.ee/jS3JP5z" className="w-full bg-white/60 border border-white/90 text-slate-600 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-sm backdrop-blur-sm hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all active:scale-[0.98] cursor-pointer">
                                    <img src="line.png" alt="LINE" className="w-6 h-6 object-contain" />
                                    <span>LINE 官方帳號</span>
                                </a>                           
                                <div className="flex justify-center gap-4">
                                    <a href="tel:033608693" className="contact-pill text-slate-600 hover:text-[#005694]">
                                        <Icon name="phone" size={16}/> 撥打電話
                                    </a>
                                    <a href="https://www.facebook.com/lionbeautycasa/?locale=zh_TW" target="_blank" className="contact-pill text-slate-600 hover:text-[#1877F2]">
                                        <Icon name="facebook" size={16}/> 粉絲專頁
                                    </a>
                                </div>
                            </div>

                        </main>
                        
                        <footer className="text-center py-4 border-t border-white/40">
                            <p className="text-[10px] text-slate-400 font-eng">桃園市桃園區民族路199-2號</p>
                            <p className="text-[9px] text-slate-300 mt-1 font-eng">© LIONPETSSTORE 2024</p>
                        </footer>
                    </div>
                );
            }

            return <div className="min-h-screen flex items-center justify-center text-gray-400">載入中...</div>;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
